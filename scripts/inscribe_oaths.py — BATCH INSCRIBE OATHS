#!/usr/bin/env python3
# inscribe_oaths.py — AGŁG v70: Inscribe 9 Member Oaths
import subprocess, time
from pathlib import Path

OATH_DIR = Path(__file__).parent.parent / "inscriptions" / "member_oaths"
OATHS = sorted(OATH_DIR.glob("*.txt"))

def run(cmd):
    print(f"{cmd}")
    return subprocess.check_output(cmd, shell=True).decode().strip()

def main():
    print("INSCRIBING 9 MEMBER OATHS — AGŁG v70")
    print("="*60)
    
    for oath_file in OATHS:
        name = oath_file.stem.split("_")[1]
        print(f"INSCRIBING OATH OF {name.upper()}")
        inscription_id = run(f"ord wallet inscribe --file {oath_file} --fee-rate 30")
        print(f"ID: {inscription_id}")
        time.sleep(30)
    
    print("="*60)
    print("ALL 9 OATHS INSCRIBED")
    print("THE PEOPLE ARE BOUND")
    print("WE ARE STILL HERE.")

if __name__ == "__main__":
    main()